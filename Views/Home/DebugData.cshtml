@model RigaMetro.Models.ViewModels.MapDataViewModel
@{
    ViewBag.Title = "Debug Data";
}

<h1>Содержимое базы данных</h1>

<!-- Линии и станции -->
@foreach (var line in Model.Lines)
{
    <h2>Линия: @line.Name (@line.Color)</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Order</th>
                <th>StationID</th>
                <th>Название</th>
                <th>Широта</th>
                <th>Долгота</th>
            </tr>
        </thead>
        <tbody>
        @foreach (var s in line.Stations)
        {
            <tr>
                <td>@s.Order</td>
                <td>@s.StationID</td>
                <td>@s.Name</td>
                <td>@s.Latitude</td>
                <td>@s.Longitude</td>
            </tr>
        }
        </tbody>
    </table>
}

<!-- Дистанции между станциями -->
@if (Model.TimeBetween.Any())
{
    <h2>Дистанции между станциями</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>From StationID</th>
                <th>To StationID</th>
                <th>Distance (m)</th>
                <th>Time (sec)</th>
            </tr>
        </thead>
        <tbody>
        @foreach (var t in Model.TimeBetween)
        {
            <tr>
                <td>@t.FromStationID</td>
                <td>@t.ToStationID</td>
                <td>@t.DistanceM</td>
                <td>@t.TimeSeconds</td>
            </tr>
        }
        </tbody>
    </table>
}

<!-- Поезда -->
@if (Model.Trains.Any())
{
    <h2>Поезда</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>TrainID</th>
                <th>LineID</th>
                <th>Name</th>
                <th>Active</th>
                <th>StartWork</th>
                <th>EndWork</th>
            </tr>
        </thead>
        <tbody>
        @foreach (var train in Model.Trains)
        {
            <tr>
                <td>@train.TrainID</td>
                <td>@train.LineID</td>
                <td>@train.TrainName</td>
                <td>@(train.IsActive ? "Да" : "Нет")</td>
                <td>@train.StartWorkTime</td>
                <td>@train.EndWorkTime</td>
            </tr>
        }
        </tbody>
    </table>
}

<!-- Расписания поездок -->
@if (Model.Schedules.Any())
{
    <h2>Сгенерированные поездки</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>ScheduleID</th>
                <th>LineID</th>
                <th>TripNumber</th>
                <th>Direction</th>
                <th>StartTime</th>
            </tr>
        </thead>
        <tbody>
        @foreach (var sch in Model.Schedules)
        {
            <tr>
                <td>@sch.ScheduleID</td>
                <td>@sch.LineID</td>
                <td>@sch.TripNumber</td>
                <td>@(sch.IsClockwise ? "По часовой" : "Против часовой")</td>
                <td>@sch.StartTime</td>
            </tr>
        }
        </tbody>
    </table>
}

<!-- Остановки в расписании -->
@if (Model.Stops.Any())
{
    <h2>Остановки поездок</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>ScheduleID</th>
                <th>Order</th>
                <th>StationID</th>
                <th>Arrival</th>
                <th>Departure</th>
            </tr>
        </thead>
        <tbody>
        @foreach (var stop in Model.Stops)
        {
            <tr>
                <td>@stop.ScheduleID</td>
                <td>@stop.StationOrder</td>
                <td>@stop.StationID</td>
                <td>@stop.ArrivalTime</td>
                <td>@stop.DepartureTime</td>
            </tr>
        }
        </tbody>
    </table>
}

<!-- Назначения поездов -->
@if (Model.Assignments.Any())
{
    <h2>Назначения поездов</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>TrainID</th>
                <th>ScheduleID</th>
                <th>Date</th>
            </tr>
        </thead>
        <tbody>
        @foreach (var a in Model.Assignments)
        {
            <tr>
                <td>@a.TrainID</td>
                <td>@a.ScheduleID</td>
                <td>@a.AssignmentDate.ToShortDateString()</td>
            </tr>
        }
        </tbody>
    </table>
}
